"use strict";angular.module("time-input",[]).directive("timeInput",[function(){return{template:'<input type="number" class="hours" placeholder="HH" min="0" max="23">:<input type="number" class="minutes" placeholder="MM" min="0" max="59">:<input type="number" class="seconds" placeholder="SS" min="0" max="59">',restrict:"C",require:"ngModel",controller:["$scope",function($scope){}],link:function(scope,element,attrs,ngModel){function leadingZero(value){return value=parseInt(value,10),value<10?"0"+value:""+value}function shouldUpdateOnChange(){return ngModel.$options&&ngModel.$options.updateOnChange===!0}function updateModel(){ngModel.$viewValue.setHours(parseInt($hoursInput.val(),10)),ngModel.$viewValue.setMinutes(parseInt($minutesInput.val(),10)),ngModel.$viewValue.setSeconds(parseInt($secondsInput.val(),10)),ngModel.$setViewValue(ngModel.$viewValue),ngModel.$commitViewValue()}function inputChange(elem,varName){return function(){if(!elem.value||isNaN(elem.value))return elem.value="00",updateModel(),void $(elem).select();if(elem.value.length>2)switch(varName){case"hours":elem.value=leadingZero(ngModel.$viewValue.getHours());break;case"minutes":elem.value=leadingZero(ngModel.$viewValue.getMinutes());break;case"seconds":elem.value=leadingZero(ngModel.$viewValue.getSeconds())}else Number(elem.value)>Number(elem.getAttribute("max"))&&(elem.value=elem.value[0]),elem.value=leadingZero(elem.value),shouldUpdateOnChange()&&updateModel()}}function onKeyUp($nextInput){return function(event){var key=event.keyCode;(key>=48&&key<=57||key>=96&&key<=105)&&Number(event.target.value)>9&&($nextInput.focus(),$nextInput.select())}}function onBlurInput(){element.removeClass("focused"),this.value=leadingZero(Number(this.value)),updateModel()}var $inputs=element.find("input"),$hoursInput=$inputs.eq(0),$minutesInput=$inputs.eq(1),$secondsInput=$inputs.eq(2);$inputs.on("click",function(){this.select()}),$inputs.on("focus",function(){element.addClass("focused")}),$inputs.on("mousewheel",function(){}),$inputs.on("keydown",function(event){var key=event.keyCode;key>=48&&key<=57||key>=96&&key<=105||8===key||46===key||key>=37&&key<=40||event.preventDefault()}),$inputs.on("paste cut",function(event){event.preventDefault()}),ngModel.$render=function(){var date=ngModel.$viewValue;$hoursInput.val(leadingZero(date.getHours())),$minutesInput.val(leadingZero(date.getMinutes())),$secondsInput.val(leadingZero(date.getSeconds()))},scope.$watch(attrs.disable,function(newVal){newVal?($hoursInput.attr("disabled","disabled"),$minutesInput.attr("disabled","disabled"),$secondsInput.attr("disabled","disabled")):($hoursInput.removeAttr("disabled"),$minutesInput.removeAttr("disabled"),$secondsInput.removeAttr("disabled"))}),$hoursInput.on("input",inputChange($hoursInput.get(0),"hours")),$minutesInput.on("input",inputChange($minutesInput.get(0),"minutes")),$secondsInput.on("input",inputChange($secondsInput.get(0),"seconds")),$hoursInput.on("keyup",onKeyUp($minutesInput)),$minutesInput.on("keyup",onKeyUp($secondsInput)),$hoursInput.on("blur",onBlurInput.bind($hoursInput.get(0))),$minutesInput.on("blur",onBlurInput.bind($minutesInput.get(0))),$secondsInput.on("blur",onBlurInput.bind($secondsInput.get(0)))}}}]);
//# sourceMappingURL=time-input.min.js.map